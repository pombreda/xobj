<?xml version="1.0" encoding="utf-8"?>
<!--
#
# Copyright (c) 2009 rPath, Inc.
#
# This program is distributed under the terms of the MIT License as found 
# in a file called LICENSE. If it is not present, the license
# is always available at http://www.opensource.org/licenses/mit-license.php.
#
# This program is distributed in the hope that it will be useful, but
# without any waranty; without even the implied warranty of merchantability
# or fitness for a particular purpose. See the MIT License for full details.
-->

<mx:Application
    xmlns:mx="http://www.adobe.com/2006/mxml" 
    xmlns:fluint="http://www.digitalprimates.net/2008/fluint"
    layout="absolute"
    creationComplete="startTestProcess(event)"
    width="100%" height="100%"
    >
    
    <mx:Script>
    <![CDATA[
        
        private var startTime:Number;
        
        protected function startTestProcess( event:Event ):void 
        {
            var suites:Array = TestSuites.suites();
            startTime = getTimer();
            
            testRunner.startTests(suites);
            
            testRunner.addEventListener(net.digitalprimates.fluint.ui.TestRunner.TESTS_COMPLETE, handleTestsComplete);
        }
        
        private function handleTestsComplete(event:Event):void
        {
            trace("Total time for 1 runs: "+ (getTimer() - startTime) + " ms");
        }
        
    ]]>
    </mx:Script>
    
    <fluint:TestResultDisplay width="100%" height="100%"/>
    
    <fluint:TestRunner id="testRunner"/>
    
</mx:Application>
